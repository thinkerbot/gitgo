{"title":"Optimize Repo#reindex?","tags":["open"],"date":"2010-01-26T21:43:00Z","author":"Simon Chiang <simon.chiang@pinnacol.com>","type":"issue","content":"reindex? in the best case is very fast because it compares the index head to the repo head... but then it's performance probably falls off a cliff because it pulls the full rev_list for the index head.  \r\n\r\nA better approach would be to manually walk up the index head history and break if a match is found; this accommodates the likely case that the index head is only one or a few commits ahead of the repo head.\r\n\r\nOf course this does beg benchmarking -- the rev_list could be very fast if it is generated in C... faster than cycling through manually.","at":"090e67c9ecb73020d90d5892e83cc4f663372a5b","state":"open"}