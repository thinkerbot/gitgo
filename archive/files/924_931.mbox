From news@gmane.org Tue Mar 04 03:33:20 2003
From: Linus Torvalds <torvalds@osdl.org>
Subject: Re: [RFC] Possible strategy cleanup for git add/remove/diff etc.
Date: Tue, 19 Apr 2005 18:51:06 -0700 (PDT)
Lines: 44
Message-ID: <Pine.LNX.4.58.0504191846290.6467@ppc970.osdl.org>
References: <20050419035107.GB5554@pasky.ji.cz> <7vacnumgot.fsf@assigned-by-dhcp.cox.net>
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Cc: Petr Baudis <pasky@ucw.cz>, git@vger.kernel.org
X-From: git-owner@vger.kernel.org Wed Apr 20 03:45:43 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DO4HS-00088y-0h
	for gcvg-git@gmane.org; Wed, 20 Apr 2005 03:45:30 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261257AbVDTBtY (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Tue, 19 Apr 2005 21:49:24 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261263AbVDTBtX
	(ORCPT <rfc822;git-outgoing>); Tue, 19 Apr 2005 21:49:23 -0400
Received: from fire.osdl.org ([65.172.181.4]:4484 "EHLO smtp.osdl.org")
	by vger.kernel.org with ESMTP id S261257AbVDTBtO (ORCPT
	<rfc822;git@vger.kernel.org>); Tue, 19 Apr 2005 21:49:14 -0400
Received: from shell0.pdx.osdl.net (fw.osdl.org [65.172.181.6])
	by smtp.osdl.org (8.12.8/8.12.8) with ESMTP id j3K1n8s4007207
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO);
	Tue, 19 Apr 2005 18:49:09 -0700
Received: from localhost (shell0.pdx.osdl.net [10.9.0.31])
	by shell0.pdx.osdl.net (8.13.1/8.11.6) with ESMTP id j3K1n7tQ012295;
	Tue, 19 Apr 2005 18:49:08 -0700
To: Junio C Hamano <junkio@cox.net>
In-Reply-To: <7vacnumgot.fsf@assigned-by-dhcp.cox.net>
X-Spam-Status: No, hits=0 required=5 tests=
X-Spam-Checker-Version: SpamAssassin 2.63-osdl_revision__1.35__
X-MIMEDefang-Filter: osdl$Revision: 1.109 $
X-Scanned-By: MIMEDefang 2.36
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO



On Tue, 19 Apr 2005, Junio C Hamano wrote:
> 
> Let's for a moment forget what git-pasky currently does, which
> is not to touch .git/index until the user says "Ok, let's
> commit". 

I think git-pasky is wrong.

It's true that we want to often (almost always) diff against the last 
"released" thing, and I actually think git-pasky does what it does because 
I never wrote a tool to diff the current working directory against a 
"tree".

At the same time, I very much worked with a model where you do _not_ have 
a traditional "work file", but the index really _is_ the "work file".

> I'd like to start from a different premise and see what happens:
> 
>  - What .git/index records is *not* the state as the last
>    commit.  It is just an cache Cogito uses to speed up access
>    to the user's working tree.  From the user's point of view,
>    it does not even exist.

Yes. Yes. YES.

That is indeed the whole point of the index file. In my world-view, the
index file does _everything_. It's the staging area ("work file"), it's
the merging area ("merge directory") and it's the cache file ("stat
cache").

I'll immediately write a tool to diff the current working directory 
against a tree object, and hopefully that will just make pasky happy with 
this model too. 

Is there any other reason why git-pasky wants to have a work file?

		Linus
-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Daniel Barkalow <barkalow@iabervon.org>
Subject: More transport methods
Date: Tue, 19 Apr 2005 21:49:56 -0400 (EDT)
Lines: 17
Message-ID: <Pine.LNX.4.21.0504192144010.30848-100000@iabervon.org>
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-From: git-owner@vger.kernel.org Wed Apr 20 03:46:05 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DO4HZ-00089Q-09
	for gcvg-git@gmane.org; Wed, 20 Apr 2005 03:45:37 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261248AbVDTBtq (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Tue, 19 Apr 2005 21:49:46 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261179AbVDTBtq
	(ORCPT <rfc822;git-outgoing>); Tue, 19 Apr 2005 21:49:46 -0400
Received: from iabervon.org ([66.92.72.58]:29959 "EHLO iabervon.org")
	by vger.kernel.org with ESMTP id S261285AbVDTBtl (ORCPT
	<rfc822;git@vger.kernel.org>); Tue, 19 Apr 2005 21:49:41 -0400
Received: from barkalow (helo=localhost)
	by iabervon.org with local-esmtp (Exim 2.12 #2)
	id 1DO4Lk-00064m-00
	for git@vger.kernel.org; Tue, 19 Apr 2005 21:49:56 -0400
To: git@vger.kernel.org
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

Just in case someone else is considering trying it, I've just written a
pair of programs to transfer a commit and everything it uses directly over
ssh (i.e., without rsync); it is also clever enough to reject anything
that either doesn't inflate or doesn't hash correctly. It also doesn't
transfer anything that the recipient already has or doesn't need.

I have some more cleaning to go on it, but I could post it if others want
to hack on it.

	-Daniel
*This .sig left intentionally blank*

-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Junio C Hamano <junkio@cox.net>
Subject: Re: [RFC] Possible strategy cleanup for git add/remove/diff etc.
Date: Tue, 19 Apr 2005 18:58:55 -0700
Lines: 15
Message-ID: <7v3btmmco0.fsf@assigned-by-dhcp.cox.net>
References: <20050419035107.GB5554@pasky.ji.cz>
	<7vacnumgot.fsf@assigned-by-dhcp.cox.net>
	<Pine.LNX.4.58.0504191846290.6467@ppc970.osdl.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Cc: Petr Baudis <pasky@ucw.cz>, git@vger.kernel.org
X-From: git-owner@vger.kernel.org Wed Apr 20 03:55:07 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DO4QV-0000aV-G0
	for gcvg-git@gmane.org; Wed, 20 Apr 2005 03:54:51 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261253AbVDTB66 (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Tue, 19 Apr 2005 21:58:58 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261264AbVDTB66
	(ORCPT <rfc822;git-outgoing>); Tue, 19 Apr 2005 21:58:58 -0400
Received: from fed1rmmtao05.cox.net ([68.230.241.34]:42908 "EHLO
	fed1rmmtao05.cox.net") by vger.kernel.org with ESMTP
	id S261253AbVDTB65 (ORCPT <rfc822;git@vger.kernel.org>);
	Tue, 19 Apr 2005 21:58:57 -0400
Received: from assigned-by-dhcp.cox.net ([68.4.60.172])
          by fed1rmmtao05.cox.net
          (InterMail vM.6.01.04.00 201-2131-118-20041027) with ESMTP
          id <20050420015855.UHIH7956.fed1rmmtao05.cox.net@assigned-by-dhcp.cox.net>;
          Tue, 19 Apr 2005 21:58:55 -0400
To: Linus Torvalds <torvalds@osdl.org>
In-Reply-To: <Pine.LNX.4.58.0504191846290.6467@ppc970.osdl.org> (Linus
 Torvalds's message of "Tue, 19 Apr 2005 18:51:06 -0700 (PDT)")
User-Agent: Gnus/5.1007 (Gnus v5.10.7) Emacs/21.4 (gnu/linux)
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

>>>>> "LT" == Linus Torvalds <torvalds@osdl.org> writes:

LT> Is there any other reason why git-pasky wants to have a work file?

Do you mean "why does a user wants to check things out in the
working directory and make changes, possibly run compile tests
before pushing the result to Linus?" ;-)  I'm confused what you
mean by "a work file", I guess...


-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: "David A. Wheeler" <dwheeler@dwheeler.com>
Subject: Re: [script] ge: export commits as patches
Date: Tue, 19 Apr 2005 22:34:43 -0400
Lines: 13
Message-ID: <4265BFC3.9080105@dwheeler.com>
References: <20050419134843.GA19146@elte.hu> <20050419170320.GG12757@pasky.ji.cz> <20050419185607.GA26756@elte.hu> <20050419194108.GN12757@pasky.ji.cz>
Reply-To: dwheeler@dwheeler.com
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Cc: Ingo Molnar <mingo@elte.hu>, git@vger.kernel.org
X-From: git-owner@vger.kernel.org Wed Apr 20 04:28:48 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DO4xC-0004mO-DR
	for gcvg-git@gmane.org; Wed, 20 Apr 2005 04:28:38 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261299AbVDTCcu (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Tue, 19 Apr 2005 22:32:50 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261303AbVDTCcu
	(ORCPT <rfc822;git-outgoing>); Tue, 19 Apr 2005 22:32:50 -0400
Received: from cujo.runbox.com ([193.71.199.138]:63644 "EHLO cujo.runbox.com")
	by vger.kernel.org with ESMTP id S261299AbVDTCct (ORCPT
	<rfc822;git@vger.kernel.org>); Tue, 19 Apr 2005 22:32:49 -0400
Received: from [10.9.9.1] (helo=bolivar.runbox.com)
	by greyhound.runbox.com with esmtp (Exim 4.34)
	id 1DO51E-0001qJ-1o; Wed, 20 Apr 2005 04:32:48 +0200
Received: from [70.18.250.120] (helo=[192.168.2.73])
	by bolivar.runbox.com with asmtp (uid:258406) (Exim 4.34)
	id 1DO51D-0000lI-PA; Wed, 20 Apr 2005 04:32:48 +0200
User-Agent: Mozilla Thunderbird 1.0.2-1.3.2 (X11/20050324)
X-Accept-Language: en-us, en
To: Petr Baudis <pasky@ucw.cz>
In-Reply-To: <20050419194108.GN12757@pasky.ji.cz>
X-Sender: 258406@vger.kernel.org
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

Forget my earlier "aspatch" proposal, that's a lousy name.

How about "mkpatch"?  Seems like a reasonable name for
a command that makes a patch.  GNU Arch uses that command name.
CVS & Subversion basically do this as part of "diff"
(which is another possibility).

--- David A. Wheeler
-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Greg KH <greg@kroah.com>
Subject: Re: wit 0.0.3 - a web interface for git available
Date: Tue, 19 Apr 2005 21:18:29 -0700
Lines: 19
Message-ID: <20050420041828.GA15391@kroah.com>
References: <1113956951.3309.22.camel@localhost>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Cc: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Wed Apr 20 06:14:57 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DO6bx-0006V5-Bj
	for gcvg-git@gmane.org; Wed, 20 Apr 2005 06:14:49 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261270AbVDTES5 (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 20 Apr 2005 00:18:57 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261338AbVDTES5
	(ORCPT <rfc822;git-outgoing>); Wed, 20 Apr 2005 00:18:57 -0400
Received: from mail.kroah.org ([69.55.234.183]:35987 "EHLO perch.kroah.org")
	by vger.kernel.org with ESMTP id S261270AbVDTESz (ORCPT
	<rfc822;git@vger.kernel.org>); Wed, 20 Apr 2005 00:18:55 -0400
Received: from [192.168.0.10] (c-24-22-118-199.hsd1.or.comcast.net [24.22.118.199])
	(authenticated)
	by perch.kroah.org (8.11.6/8.11.6) with ESMTP id j3K4Iqi22732;
	Tue, 19 Apr 2005 21:18:52 -0700
Received: from greg by echidna.kroah.org with local (masqmail 0.2.19)
 id 1DO6fV-40n-00; Tue, 19 Apr 2005 21:18:29 -0700
To: Christian Meder <chris@absolutegiganten.org>
Content-Disposition: inline
In-Reply-To: <1113956951.3309.22.camel@localhost>
User-Agent: Mutt/1.5.8i
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

On Wed, Apr 20, 2005 at 02:29:11AM +0200, Christian Meder wrote:
> Hi,
> 
> ok it's starting to look like spam ;-)
> 
> I uploaded a new version of wit to http://www.absolutegiganten.org/wit

Why not work together with Kay's tool:
	http://ehlo.org/~kay/gitweb.pl?project=linux-2.6&action=show_log


Thanks,

greg k-h
-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Zach Welch <zw@superlucidity.net>
Subject: [PATCH 0/3] init-db.c cleanup and fixes
Date: Tue, 19 Apr 2005 21:28:39 -0700
Lines: 36
Message-ID: <mailbox-1242-1113971319-958842@spoon>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7BIT
Cc: torvalds@osdl.org
X-From: git-owner@vger.kernel.org Wed Apr 20 06:24:44 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DO6lR-0007C5-II
	for gcvg-git@gmane.org; Wed, 20 Apr 2005 06:24:37 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261338AbVDTE2n (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 20 Apr 2005 00:28:43 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261352AbVDTE2n
	(ORCPT <rfc822;git-outgoing>); Wed, 20 Apr 2005 00:28:43 -0400
Received: from guft.superlucidity.net ([63.224.205.130]:20623 "EHLO
	mail.guft.org") by vger.kernel.org with ESMTP id S261338AbVDTE2l
	(ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 20 Apr 2005 00:28:41 -0400
Received: (qmail 1247 invoked by uid 5006); 19 Apr 2005 21:28:39 -0700
To: git@vger.kernel.org
Lines: 31
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

Linus,

I see you pulled the first two patches of my last series into your tree, 
so I know I had your attention briefly. I wanted to see what I can do to
help the rest of the changes get in, so....

I realized last night as I was going to bed that the third patch might 
not be accepted because it changes the behaviour slightly, nevermind that 
they were - by comparison with today's alternative - plain ugly.  

For what it's worth, init-db is practically useless for my package 
without the second change in this series.  Currently, I've implemented 
init-db in pure perl, but I'd like to use init-db.

As such, I started from scratch, and came up with a much simpler 
series of patches.  Please continue to ignore the previous series, but
consider these new patches in their stead.

New GIT_FILE_DIRECTORY patches will follow seperately.

Cheers,

Zach Welch
Superlucidity Services

These patches were based off commit 4e1778c8ceeaea340a2a7f62fc65736da327ec05.

There are 3 patches in this series:
        [PATCH 1/3] init-db.c: cleanup comments
        [PATCH 2/3] init-db.c: normalize env var handling.
        [PATCH 3/3] init-db.c: create and use safe_create_dir helper
-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Zach Welch <zw@superlucidity.net>
Subject: [PATCH 1/3] init-db.c: cleanup comments
Date: Tue, 19 Apr 2005 21:28:39 -0700
Lines: 50
Message-ID: <mailbox-1242-1113971319-969154@spoon>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7BIT
Cc: torvalds@osdl.org
X-From: git-owner@vger.kernel.org Wed Apr 20 06:24:59 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DO6lb-0007Cm-S3
	for gcvg-git@gmane.org; Wed, 20 Apr 2005 06:24:48 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261366AbVDTE2t (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 20 Apr 2005 00:28:49 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261357AbVDTE2s
	(ORCPT <rfc822;git-outgoing>); Wed, 20 Apr 2005 00:28:48 -0400
Received: from spoon.guft.org ([63.224.205.130]:20879 "EHLO mail.guft.org")
	by vger.kernel.org with ESMTP id S261348AbVDTE2m (ORCPT
	<rfc822;git@vger.kernel.org>); Wed, 20 Apr 2005 00:28:42 -0400
Received: (qmail 1251 invoked by uid 5006); 19 Apr 2005 21:28:42 -0700
To: git@vger.kernel.org
In-Reply-To: mailbox-1242-1113971319-958842@spoon
Lines: 45
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

 init-db.c |   15 ++++++---------
 1 files changed, 6 insertions(+), 9 deletions(-)

Signed-Off-By: Zach Welch <zw@superlucidity.net>

Consolidate comments at top of main.

--- a/init-db.c
+++ b/init-db.c
@@ -5,6 +5,12 @@
  */
 #include "cache.h"
 
+/*
+ * If you want to, you can share the DB area with any number of branches.
+ * That has advantages: you can save space by sharing all the SHA1 objects.
+ * On the other hand, it might just make lookup slower and messier. You
+ * be the judge.  The default case is to have one DB per managed directory.
+ */
 int main(int argc, char **argv)
 {
 	char *sha1_dir, *path;
@@ -15,12 +21,6 @@ int main(int argc, char **argv)
 		exit(1);
 	}
 
-	/*
-	 * If you want to, you can share the DB area with any number of branches.
-	 * That has advantages: you can save space by sharing all the SHA1 objects.
-	 * On the other hand, it might just make lookup slower and messier. You
-	 * be the judge.
-	 */
 	sha1_dir = getenv(DB_ENVIRONMENT);
 	if (sha1_dir) {
 		struct stat st;
@@ -29,9 +29,6 @@ int main(int argc, char **argv)
 		fprintf(stderr, "DB_ENVIRONMENT set to bad directory %s: ", sha1_dir);
 	}
 
-	/*
-	 * The default case is to have a DB per managed directory.
-	 */
 	sha1_dir = DEFAULT_DB_ENVIRONMENT;
 	fprintf(stderr, "defaulting to private storage area\n");
 	len = strlen(sha1_dir);
-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



