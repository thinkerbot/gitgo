From news@gmane.org Tue Mar 04 03:33:20 2003
From: Junio C Hamano <junkio@cox.net>
Subject: Re: (rework) [PATCH 3/4] Accept commit in some places when tree is
 needed.
Date: Wed, 20 Apr 2005 19:32:59 -0700
Lines: 48
Message-ID: <7v7jiwhnac.fsf@assigned-by-dhcp.cox.net>
References: <7vvf6hgeqj.fsf@assigned-by-dhcp.cox.net>
	<7vk6mxgds8.fsf@assigned-by-dhcp.cox.net>
	<Pine.LNX.4.58.0504201807320.2344@ppc970.osdl.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Cc: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Thu Apr 21 04:30:04 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DORRR-00072V-Gx
	for gcvg-git@gmane.org; Thu, 21 Apr 2005 04:29:21 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261198AbVDUCd1 (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 20 Apr 2005 22:33:27 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261196AbVDUCd1
	(ORCPT <rfc822;git-outgoing>); Wed, 20 Apr 2005 22:33:27 -0400
Received: from fed1rmmtao10.cox.net ([68.230.241.29]:18824 "EHLO
	fed1rmmtao10.cox.net") by vger.kernel.org with ESMTP
	id S261192AbVDUCdE (ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 20 Apr 2005 22:33:04 -0400
Received: from assigned-by-dhcp.cox.net ([68.4.60.172])
          by fed1rmmtao10.cox.net
          (InterMail vM.6.01.04.00 201-2131-118-20041027) with ESMTP
          id <20050421023258.JGL2123.fed1rmmtao10.cox.net@assigned-by-dhcp.cox.net>;
          Wed, 20 Apr 2005 22:32:58 -0400
To: Linus Torvalds <torvalds@osdl.org>
In-Reply-To: <Pine.LNX.4.58.0504201807320.2344@ppc970.osdl.org> (Linus
 Torvalds's message of "Wed, 20 Apr 2005 18:09:05 -0700 (PDT)")
User-Agent: Gnus/5.1007 (Gnus v5.10.7) Emacs/21.4 (gnu/linux)
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

>>>>> "LT" == Linus Torvalds <torvalds@osdl.org> writes:

LT> On Wed, 20 Apr 2005, Junio C Hamano wrote:
>> 
>> Sorry, but the numbering is wrong this should have been [4/5]
>> not [3/4].  The contents should be fine, though.

LT> Applied and pushed out.

Thanks.  I have alreay a bugfix and a half X-<.

----------------------------------------------------------------
[PATCH] Fix read-tree-with-tree-or-commit-sha1 function.

Instead of NULL to signal an error, it was returning a garbage.
Also the compiler complains about a type mismatch between signed
and unsigned character array.  Both are my bad.  Sorry.

Signed-off-by: Junio C Hamano <junkio@cox.net> 
---

--- l/sha1_file.c	2005-04-20 19:00:38.000000000 -0700
+++ k/sha1_file.c	2005-04-20 18:14:34.000000000 -0700
@@ -174,7 +174,7 @@
 	void *buffer;
 	unsigned long isize;
 	int was_commit = 0;
-	char tree_sha1[20];
+	unsigned char tree_sha1[20];
 
 	buffer = read_sha1_file(sha1, type, &isize);
 
@@ -197,7 +197,7 @@
 	 */
 	if (!buffer || strcmp(type, "tree")) {
 		free(buffer);
-		return;
+		return NULL;
 	}
 
 	*size = isize;


-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Junio C Hamano <junkio@cox.net>
Subject: [PATCH] Usage-string fixes.
Date: Wed, 20 Apr 2005 19:38:33 -0700
Lines: 157
Message-ID: <7v1x94hn12.fsf@assigned-by-dhcp.cox.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Cc: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Thu Apr 21 04:34:33 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DORWI-0007OH-KU
	for gcvg-git@gmane.org; Thu, 21 Apr 2005 04:34:22 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261188AbVDUCin (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 20 Apr 2005 22:38:43 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261182AbVDUCin
	(ORCPT <rfc822;git-outgoing>); Wed, 20 Apr 2005 22:38:43 -0400
Received: from fed1rmmtao10.cox.net ([68.230.241.29]:20620 "EHLO
	fed1rmmtao10.cox.net") by vger.kernel.org with ESMTP
	id S261188AbVDUCif (ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 20 Apr 2005 22:38:35 -0400
Received: from assigned-by-dhcp.cox.net ([68.4.60.172])
          by fed1rmmtao10.cox.net
          (InterMail vM.6.01.04.00 201-2131-118-20041027) with ESMTP
          id <20050421023832.LRJ2123.fed1rmmtao10.cox.net@assigned-by-dhcp.cox.net>;
          Wed, 20 Apr 2005 22:38:32 -0400
To: Linus Torvalds <torvalds@osdl.org>
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

Usage string fixes to make maintenance easier (only one instance
of a string to update not multiple copies).  I've spotted and
corrected inconsistent usage text in diff-tree while doing this.

Also diff-cache and read-tree usage text have been corrected to
match their up-to-date features.  Earlier, neither "--cached"
form of diff-cache nor "-m single-merge" form of read-tree were
described. 

Signed-off-by: Junio C Hamano <junkio@cox.net>
---

 commit-tree.c |   14 ++++++--------
 diff-cache.c  |    6 ++++--
 diff-tree.c   |    6 ++++--
 read-tree.c   |   10 ++++++----
 4 files changed, 20 insertions(+), 16 deletions(-)


--- ../git.linus/commit-tree.c	2005-04-20 19:00:38.000000000 -0700
+++ ../git.junio/commit-tree.c	2005-04-20 11:41:45.000000000 -0700
@@ -268,15 +268,13 @@
 }
 
 /*
- * Having more than two parents may be strange, but hey, there's
- * no conceptual reason why the file format couldn't accept multi-way
- * merges. It might be the "union" of several packages, for example.
- *
- * I don't really expect that to happen, but this is here to make
- * it clear that _conceptually_ it's ok..
+ * Having more than two parents is not strange at all, and this is
+ * how multi-way merges are represented.
  */
 #define MAXPARENT (16)
 
+static char *commit_tree_usage = "commit-tree <sha1> [-p <sha1>]* < changelog";
+
 int main(int argc, char **argv)
 {
 	int i, len;
@@ -296,14 +294,14 @@
 	unsigned int size;
 
 	if (argc < 2 || get_sha1_hex(argv[1], tree_sha1) < 0)
-		usage("commit-tree <sha1> [-p <sha1>]* < changelog");
+		usage(commit_tree_usage);
 
 	check_valid(tree_sha1, "tree");
 	for (i = 2; i < argc; i += 2) {
 		char *a, *b;
 		a = argv[i]; b = argv[i+1];
 		if (!b || strcmp(a, "-p") || get_sha1_hex(b, parent_sha1[parents]))
-			usage("commit-tree <sha1> [-p <sha1>]* < changelog");
+			usage(commit_tree_usage);
 		check_valid(parent_sha1[parents], "commit");
 		parents++;
 	}


--- ../git.linus/diff-cache.c	2005-04-20 19:00:38.000000000 -0700
+++ ../git.junio/diff-cache.c	2005-04-20 19:14:25.000000000 -0700
@@ -215,6 +215,8 @@
 	return 0;
 }
 
+static char *diff_cache_usage = "diff-cache [-r] [-z] [--cached] <tree sha1>";
+
 int main(int argc, char **argv)
 {
 	unsigned char tree_sha1[20];
@@ -238,11 +240,11 @@
 			cached_only = 1;
 			continue;
 		}
-		usage("diff-cache [-r] [-z] <tree sha1>");
+		usage(diff_cache_usage);
 	}
 
 	if (argc != 2 || get_sha1_hex(argv[1], tree_sha1))
-		usage("diff-cache [-r] [-z] <tree sha1>");
+		usage(diff_cache_usage);
 
 	tree = read_tree_with_tree_or_commit_sha1(tree_sha1, &size, 0);
 	if (!tree)


--- ../git.linus/diff-tree.c	2005-04-20 19:00:38.000000000 -0700
+++ ../git.junio/diff-tree.c	2005-04-20 19:14:55.000000000 -0700
@@ -178,6 +178,8 @@
 	return retval;
 }
 
+static char *diff_tree_usage = "diff-tree [-r] [-z] <tree sha1> <tree sha1>";
+
 int main(int argc, char **argv)
 {
 	unsigned char old[20], new[20];
@@ -194,10 +196,10 @@
 			line_termination = '\0';
 			continue;
 		}
-		usage("diff-tree [-r] [-z] <tree sha1> <tree sha1>");
+		usage(diff_tree_usage);
 	}
 
 	if (argc != 3 || get_sha1_hex(argv[1], old) || get_sha1_hex(argv[2], new))
-		usage("diff-tree <tree sha1> <tree sha1>");
+		usage(diff_tree_usage);
 	return diff_tree_sha1(old, new, "");
 }



--- ../git.linus/read-tree.c	2005-04-20 19:00:38.000000000 -0700
+++ ../git.junio/read-tree.c	2005-04-20 19:15:33.000000000 -0700
@@ -217,6 +217,8 @@
 	}
 }
 
+static char *read_tree_usage = "read-tree (<sha> | -m <sha1> [<sha2> <sha3>])";
+
 int main(int argc, char **argv)
 {
 	int i, newfd, merge;
@@ -236,20 +238,20 @@
 		if (!strcmp(arg, "-m")) {
 			int i;
 			if (stage)
-				usage("-m needs to come first");
+				die("-m needs to come first");
 			read_cache();
 			for (i = 0; i < active_nr; i++) {
 				if (ce_stage(active_cache[i]))
-					usage("you need to resolve your current index first");
+					die("you need to resolve your current index first");
 			}
 			stage = 1;
 			merge = 1;
 			continue;
 		}
 		if (get_sha1_hex(arg, sha1) < 0)
-			usage("read-tree [-m] <sha1>");
+			usage(read_tree_usage);
 		if (stage > 3)
-			usage("can't merge more than two trees");
+			usage(read_tree_usage);
 		if (read_tree(sha1, "", 0) < 0)
 			die("failed to unpack tree object %s", arg);
 		stage++;
 

-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Bryan Donlan <bdonlan@bd.beginyourfear.com>
Subject: Re: [ANNOUNCE] git-pasky-0.6.2 && heads-up on upcoming changes
Date: Wed, 20 Apr 2005 22:53:33 -0400
Lines: 58
Message-ID: <u6hjj2-jl9.ln1@bd-home-comp.no-ip.org>
References: <20050420205633.GC19112@pasky.ji.cz>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-From: git-owner@vger.kernel.org Thu Apr 21 05:00:34 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DORvb-000145-4v
	for gcvg-git@gmane.org; Thu, 21 Apr 2005 05:00:31 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261196AbVDUDEu (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 20 Apr 2005 23:04:50 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261198AbVDUDEt
	(ORCPT <rfc822;git-outgoing>); Wed, 20 Apr 2005 23:04:49 -0400
Received: from main.gmane.org ([80.91.229.2]:193 "EHLO ciao.gmane.org")
	by vger.kernel.org with ESMTP id S261196AbVDUDEn (ORCPT
	<rfc822;git@vger.kernel.org>); Wed, 20 Apr 2005 23:04:43 -0400
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1DORvD-00012s-3k
	for git@vger.kernel.org; Thu, 21 Apr 2005 05:00:07 +0200
Received: from cpe-24-198-10-141.maine.res.rr.com ([24.198.10.141])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <git@vger.kernel.org>; Thu, 21 Apr 2005 05:00:07 +0200
Received: from bdonlan by cpe-24-198-10-141.maine.res.rr.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <git@vger.kernel.org>; Thu, 21 Apr 2005 05:00:07 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: git@vger.kernel.org
Lines: 52
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: cpe-24-198-10-141.maine.res.rr.com
User-Agent: Debian Thunderbird 1.0 (X11/20050116)
X-Accept-Language: en-us, en
In-Reply-To: <20050420205633.GC19112@pasky.ji.cz>
X-Enigmail-Version: 0.90.0.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

-----BEGIN PGP SIGNED MESSAGE-----
Hash: RIPEMD160

Petr Baudis wrote:
|   Hello,
|
|   so I've "released" git-pasky-0.6.2 (my SCMish layer on top of Linus
| Torvalds' git tree history storage system), find it at the usual
|
| 	http://pasky.or.cz/~pasky/dev/git/

When I run `git pull', I get:

Tree change:
55f9d5042603fff4ddfaf4e5f004d2995286d6d3:7a4c67965de68ae7bc7aa1fde33f8eb9d8114697
+100644	blob	8186a561108d3c62625614272bd5e2f7d5826b4b	README.reference
*100755->100755	blob
5f23301eb97a0fadd505a6e9cc851e98741a512a->bf277135908ee7c6b7d6ad330d1ce183b9bb411f
git
*100755->100755	blob
a78cf8ccab98861ef7aecb4cb5a79e47d3a84b67->74b4083d67eda87d88a6f92c6c66877bba8bda8a
gitcancel.sh
Tracked branch, applying changes...
Fast-forwarding 55f9d5042603fff4ddfaf4e5f004d2995286d6d3 ->
7a4c67965de68ae7bc7aa1fde33f8eb9d8114697
	on top of 55f9d5042603fff4ddfaf4e5f004d2995286d6d3...
patch: **** Only garbage was found in the patch input.

I'm on debian testing, patch 2.5.9. It seems to apply the changes
despite this error.

Thanks,

Bryan Donlan
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.0 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://enigmail.mozdev.org

iQIVAwUBQmcVqXhF4rlE0/81AQPNdA//fmL+O3amch3WUfYLZroSNarto/jcQ8WE
NAwthoT+nPkvUcrgoPVPvuJKmKlemBLGqJhz5raOgL8Cu09ttnHh9zi9fz/XD2uR
FFJ603xJDBqHGAG3FVS9EHaTdIFq7kSgVKn90BGdR/gxYR5oCt9DHbOzpI9S0DC5
o580CvtMHRfN1mUwhmxt8oU1E5obRvHlwQ2R4kVl90DBmPNRNXMiWziKjaVyKVng
IXR2ERfCb1HurZfoOlcmhw0Aod7sJpjubf/tm9CDdRIkMdKkeuKBqWbanzHJTlJG
2GOH2Q0CNp1HscFO+DKsCPBMa8zLAPuN0AF//o8URzXElwFiAfQNMjK8hOFVBI2y
6OR/WUvwlXUs47+9QJX7mLTjTJIgcHsxZF9amX37jXKiL5iZyDUJD9wxcFL6A1ut
eVntC36Fp6yx8zROAex0hNx68LHTILUh5bDi3N9gTnpplWpCn02GNkQi18GQLk4Z
Y34WipxwGImbJooGveHh8nH6v/6V4fOy1SaxaV5q4EL563wGrRlIZ9/POgWeJoas
D5S7aJgXCw0GLTJFZCEDORUTCv73HgxR7zSlyqup2qR0Tjqv/JWTCfqCSRLJ8Ktc
PVKf2Alx6ycVFbh9XhQUKWT4tLm1KywpTUvZe+K0DMfw28dbRREnRyFVqbId8JmX
LJgbHTVxRCs=
=Fx+f
-----END PGP SIGNATURE-----

-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



From news@gmane.org Tue Mar 04 03:33:20 2003
From: Christian Meder <chris@absolutegiganten.org>
Subject: wit 0.0.4 uploaded
Date: Thu, 21 Apr 2005 05:05:29 +0200
Lines: 41
Message-ID: <1114052729.4108.9.camel@localhost>
Mime-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-From: git-owner@vger.kernel.org Thu Apr 21 05:02:37 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([12.107.209.244])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1DORxF-0001CJ-Kz
	for gcvg-git@gmane.org; Thu, 21 Apr 2005 05:02:13 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261198AbVDUDGB (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 20 Apr 2005 23:06:01 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261199AbVDUDGB
	(ORCPT <rfc822;git-outgoing>); Wed, 20 Apr 2005 23:06:01 -0400
Received: from shadow.prohost.de ([216.71.84.228]:43667 "EHLO
	shadow.prohost.de") by vger.kernel.org with ESMTP id S261198AbVDUDFm
	(ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 20 Apr 2005 23:05:42 -0400
Received: from blue (p54A24C29.dip.t-dialin.net [84.162.76.41])
	by shadow.prohost.de (8.11.6/8.11.6) with ESMTP id j3L35XN29785
	for <git@vger.kernel.org>; Thu, 21 Apr 2005 05:05:33 +0200
To: git@vger.kernel.org
X-Mailer: Evolution 2.0.4 
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Status: RO

Hi,

I uploaded a new snapshot to http://www.absolutegiganten.org/wit

The changes are

0.0.4:
* c2html usage is configurable now
* add flexible /changelog/<number of entries>, <number of days> and all
* improve display of dates
* implement all the nice ideas from Kay Sievers gitweb.pl
* try to validate most of the dynamic URIs
* sanitize logging and move host and port configuration to config.py
* add copyright headers to source files
* add a simple start script
* change default web serving mode of wit to multithreading

If I weren't so tired I'd write something cool and nifty for sure

The demo site is at

http://grmso.net:8090

Greetings,


			Christian

-- 
Christian Meder, email: chris@absolutegiganten.org

The Way-Seeking Mind of a tenzo is actualized 
by rolling up your sleeves.

                (Eihei Dogen Zenji)

-
To unsubscribe from this list: send the line "unsubscribe git" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html



